(()=>{"use strict";var e=document.querySelector(".places__list"),t=document.querySelector("#card-template").content;function n(e,n,r,o){var c=t.querySelector(".places__item").cloneNode(!0);return c.querySelector(".card__image").src=e.link,c.querySelector(".card__image").alt=e.name,c.querySelector(".card__title").textContent=e.name,c.querySelector(".card__delete-button").addEventListener("click",n),c.querySelector(".card__image").addEventListener("click",r),c.querySelector(".card__like-button").addEventListener("click",o),c}function r(e){e.target.closest(".places__item").remove()}function o(e){e.target.classList.toggle("card__like-button_is-active")}function c(e){e.classList.add("popup_is-animated"),setTimeout((function(){e.classList.add("popup_is-opened")}),10),document.addEventListener("keydown",i),document.addEventListener("click",d)}function a(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",i),document.removeEventListener("click",d)}function i(e){"Escape"===e.key&&a(document.querySelector(".popup_is-opened"))}function d(e){e.target.classList.contains("popup_is-opened")&&a(e.target)}var s=document.querySelector(".profile__edit-button"),p=document.querySelector(".popup_type_edit"),u=document.querySelector(".profile__add-button"),l=document.querySelector(".popup_type_new-card"),m=document.querySelector(".popup_type_image"),_=p.querySelector(".popup__close"),v=l.querySelector(".popup__close"),y=m.querySelector(".popup__close"),f=m.querySelector(".popup__image"),k=m.querySelector(".popup__caption"),q=document.forms["edit-profile"],S=q.name,g=q.description,L=document.querySelector(".profile__title"),E=document.querySelector(".profile__description"),x=document.forms["new-place"],h=x["place-name"],b=x.link;function j(e){k.textContent=f.alt=e.target.alt,f.src=e.target.src,c(m)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(t){!function(t){e.append(t)}(n(t,r,j,o))})),s.addEventListener("click",(function(){S.value=L.textContent,g.value=E.textContent,c(p)})),_.addEventListener("click",(function(){return a(p)})),u.addEventListener("click",(function(){return c(l)})),v.addEventListener("click",(function(){return a(l)})),y.addEventListener("click",(function(){return a(m)})),q.addEventListener("submit",(function(e){e.preventDefault();var t=S.value,n=g.value;L.textContent=t,E.textContent=n,a(p)})),x.addEventListener("submit",(function(t){t.preventDefault();var c=n({name:h.value,link:b.value},r,j,o);e.prepend(c),a(l),x.reset()}))})();